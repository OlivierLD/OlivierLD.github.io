<!DOCTYPE html>
<html lang="en">
<!-- 
	TODO 
	- . . .
-->
<head>
	<meta charset="UTF-8">
	<title>Passe-Coque</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/png" href="./infinity.png">
	<!--link rel="stylesheet" href="../css/stylesheet.css" type="text/css"/-->
	<link rel="stylesheet" href="./passe-coque.menu.css">
	<link rel="stylesheet" href="./passe-coque.css" type="text/css"/>
	<style type="text/css">
		/* Empty */
    </style>
	<script type="text/javascript" src="./qrcode.js"></script>
	<script type="text/javascript" src="./passe-coque.js"></script>
</head>
	
<body>

<dialog id="about-dialog" class="shadow-menu" style="width: 800px; margin-top: 30px;">
	<div class="dialog-header">
		<span><!-- Empty title --></span>
		<span class="dialog-header-close" onclick="closeAboutDialog();">&times</span>
	</div>
	<div id="dialog-content">
		<!-- Content goes here -->
	</div>
</dialog>

	<!--
		** Structure du menu **
		▼ = &#9660;
		- Accueil
		- Qui sommes nous
			- Passe-Coque, c'est quoi ?
			- Notre equipe
			- L'association
			- La SCIC : Eco-village Nautique
		- Nos actions
			- Transmettre
			- Renover
			- Partager
			- Nos formations
			- Associations partenaires
		- La flotte
			- Les bateaux
			- Les projets a saisir
			- Le boat club
		- Nous rejoindre
			- Faire un don
			- Investir dans la SCIC
			- Votre projet associatif
		- En savoir plus
			- Contact
			- Actualite
			- Visiter le chantier
			- Partenaires
	-->
	<div id="nav-menu" style="display: none; margin-left: -8px;">
		<div style="float: left;">
			<a href="javascript:void(0)" onclick="clack(this);" id="_1"><image src="./logo.passe-coque.png" style="width: 48px; padding: 14px 10px;" title="Passe-Coque"/></a>
		</div>
		<div style="margin-left: -48px; float: right;">
			<ul id="navigation" style="display: grid; grid-template-columns: auto auto auto auto auto auto 80px;"> <!-- Columns must match the menu below... -->
				<li>
					<a href="javascript:void(0)" onclick="clack(this);" id="_1"><span id="home-label">Accueil</span></a>
					<!--ul>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_11">QR Code</a></li>
					</ul-->
				</li>
				<li>
					<a href="javascript:void(0)" id="_2">Qui sommes-nous&nbsp;?&nbsp;</a>
					<ul>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_21">Passe-Coque, c'est quoi&nbsp;?</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_22">Notre &eacute;quipe</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_23">L'association</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_24">La SCIC : Eco-village Nautique</a></li>
						<!--li>
							<a href="javascript:void(0)">Service 3 &raquo;</a>
							<ul>
								<li><a href="javascript:void(0)" onclick="clack(this);">SubMenu 1</a></li>
								<li><a href="javascript:void(0)" onclick="clack(this);">SubMenu 2</a></li>
								<li><a href="javascript:void(0)" onclick="clack(this);">SubMenu 3</a></li>
								<li><a href="javascript:void(0)" onclick="clack(this);">SubMenu 4</a></li>
							</ul>					
						</li-->					
						<!--li><a href="javascript:void(0)" onclick="clack(this);">Service 4</a></li-->
					</ul>
				</li>
				<li>
					<a href="javascript:void(0)" id="_3">Nos actions&nbsp;</a>
					<ul>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_31">Transmettre</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_32">R&eacute;nover</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_33">Partager</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_34">Nos formations</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_35">Associations partenaires</a></li>
					</ul>
				</li>
				<li>
					<a href="javascript:void(0)" id="_4">La flotte&nbsp;</a>
					<ul>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_41">Les bateaux</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_42">Les projets &agrave; saisir</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_43">Le boat-club</a></li>
					</ul>
				</li>
				<li>
					<a href="javascript:void(0)" id="_5">Nous rejoindre&nbsp;</a>
					<ul>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_51">Faire un don</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_52">Investir dans la SCIC</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_53">Votre projet associatif</a></li>
					</ul>
				</li>
				<li>
					<a href="javascript:void(0)" id="_6">En savoir plus&nbsp;</a>
					<ul>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_61">Contact</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_62">Actualit&eacute;</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_63">Visiter le chantier</a></li>
						<li><a href="javascript:void(0)" onclick="clack(this);" id="_64">Partenaires</a></li>
					</ul>
				</li>
				<li><a href="javascript:void(0)" onclick="switchLanguage();"><image id="lang-flag" src="./us_uk_flag.png" alt="US/UK Flag" title="Switch to English" style="width: 27px;"></image></a></li>
			</ul>
		</div>
	</div>

	<br/>

	  <!--
    The Big Main Menu on the left

    ◄ = &#9668;
    ► = &#9658;
    ▼ = &#9660;
    ▲ = &#9650;
        -->
	<div id="side-menu" style="display: none;">
		<h1 style="width: 100%;"><span id="hamburger" style="cursor: pointer;" onclick="openNav()" onmouseover="openNav()" title="Hamburger">&nbsp; &#8801;</span> <span id="my-name">Passe-Coque </span></h1>
		<div id="side-nav" class="sidenav" onmouseleave="closeNav()"> <!-- Restored... -->
			<div style="width: 100%; display: grid; grid-template-columns: auto auto;">
				<a href="javascript:void(0)" class="active-link switch-lang" style="text-align: left;" onclick="switchLanguage()"><image id="lang-flag" src="./us_uk_flag.png" alt="US/UK Flag" title="Switch to English" style="width: 27px;"></image></a>
				<a href="javascript:void(0)" id="close-nav-button" class="closebtn" onclick="closeNav();">&times;</a>
			</div>

			<a href="javascript:void(0)" class="active-link" style="margin-top: 10px;" onclick="clack(this);" id="_1"><span id="home-label"> Accueil</span></a>

			<div> 
			<a href="javascript:void(0)" onclick="showHideSection(this, 'section-1');"><span class="expand-collapse">&#9658;&nbsp;</span><span id="_2">Qui sommes-nous ?</span></a>
			<div id="section-1" class="sub-section">
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_21">Passe-Coque, c'est quoi ?</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_22">Notre &eacute;quipe</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_23">L'association</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_24">La SCIC : Eco-village Nautique</a>
			</div>
			</div>
			<div>
			<a href="javascript:void(0)" onclick="showHideSection(this, 'section-2');"><span class="expand-collapse">&#9658;&nbsp;</span><span id="3">Nos actions</span></a>
			<div id="section-2" class="sub-section">
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_31">Transmettre</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_32">R&eacute;nover</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_33">Partager</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_34">Nos formations</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_35">Associations partenaires</a>
			</div>
			</div>

			<div>
				<a href="javascript:void(0)" onclick="showHideSection(this, 'section-3');"><span class="expand-collapse">&#9658;&nbsp;</span><span id="_4">La flotte</span></a>
				<div id="section-3" class="sub-section">
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_41">Les bateaux</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_42">Les projets &agrave; saisir</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_43">Le boat club</a>
				</div>
			</div>

			<div>
				<a href="javascript:void(0)" onclick="showHideSection(this, 'section-4');"><span class="expand-collapse">&#9658;&nbsp;</span><span id="_5">Nous rejoindre</span></a>
				<div id="section-4" class="sub-section">
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_51">Faire un don</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_52">Investir dans la SCIC</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_53">Votre projet associatif</a>
				</div>
			</div>

			<div>
				<a href="javascript:void(0)" onclick="showHideSection(this, 'section-5');"><span class="expand-collapse">&#9658;&nbsp;</span><span id="_6">En savoir plus</span></a>
				<div id="section-5" class="sub-section">
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_61">Contact</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_62">Actualit&eacute;s</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_63">Visiter le chantier</a>
				<a class="active-link" href="javascript:void(0)" onclick="clack(this);" id="_64">Partenaires</a>
				</div>
			</div>

		</div>
	</div>

	<div style="display: none;">
		<div id="top-container" style="display: grid; grid-template-columns: auto auto;" >
			<div>
				<!--a href="javascript:void(0)" onclick="switchLanguage();"><image id="lang-flag" src="./usa.gif" alt="US Flag" title="Switch to English"></image></a-->
			</div>
			<div style="width: 100%; display: flex; justify-content: end;">
				<!--span style="font-style: italic;">Dummy placeholder</span-->
				<div class="switch-container" style="justify-content: end;" title="On or off">
					<label class="switch switch-element">
					<input id="time-bg-slider" type="checkbox" onchange="startBGAnimation(this);">
					<span class="slider round"></span>
					</label>
					<span class="switch-element">Slide show</span>
				</div>
			</div>
		</div>  
	</div>
	
	<div id="qrcode" style="display:none; width:250px; height:250px; margin:25px;">
		<!-- Not used for now -->
	</div>

	<div id="current-content" class="text-content">
		<!-- Everything, content goes here -->
	</div>

	<div style="width: 100%; position: fixed; bottom: 0; left: 10px; margin-bottom: 10px;">
		<hr/>
		<small style="font-style: italic;">&copy; 2023, Passe-Coque</small>
	</div>

</body>    
<script type="text/javascript">

window.onload = () => {
	console.log("Loaded!");
	console.log(`${window.location.href} loaded !`);

	qrcode = new QRCode(document.getElementById("qrcode"), {
		width:  250,
		height: 250
	});

	// makeCode(); // On request only


	// debugger;
	startBGAnimation();

	console.log(`Width: ${window.innerWidth}, Height: ${window.innerHeight}`);
	let cellPhoneUI = false;

	if (window.innerWidth < 1000 || window.innerHeight < 500) {
		cellPhoneUI = true;
		// console.log(`Redirecting from Location : ${window.location}`);
		// let redirected;
		// if (window.location.href.includes('index.html')) {
		// 	redirected = window.location.href.replace('index.html', 'index.2.html');
		// } else {
		// 	if (window.location.href.endsWith('/')) {
		// 		redirected = window.location.href + 'index.2.html';
		// 	} else {
		// 		redirected = window.location.href + '/index.2.html';
		// 	}
		// }
		// window.location.href = redirected;
	}
	let navMenu = document.getElementById('nav-menu');
	let sideBar = document.getElementById('side-menu');

	if (cellPhoneUI) {
		navMenu.style.display = 'none';
		sideBar.style.display = 'block';
	} else {
		navMenu.style.display = 'block';
		sideBar.style.display = 'none';
	}

	let userLang = getQueryParameterByName('lang');
	if (userLang && userLang === 'EN') {
		switchLanguage();
	}
	// TODO Maybe some day other QS prms...

	// Load Home Page
	let el = document.createElement("div");
	el.id = "_1";
	clack(el);

};

</script>

</html>
