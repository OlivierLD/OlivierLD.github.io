<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Hex Converter</title>
        <meta charset="utf-8">
        <link rel="icon" type="image/jpg" href="hammerhead.02.ico">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
      html {
        display: table;
        width: 100%;
        height: 100%;
      }

      body {
        display: table-cell;
        /*text-align: center;*/
        color: silver;
        font-family: Verdana, Arial, Helvetica, Geneva;
        font-size: 20pt;
        vertical-align: top;
        background: radial-gradient(at top, DarkGrey -8%, black 55%);
        background-repeat: no-repeat;
        background-size: 100% 100%;
      }

      input, button {
        font-size: 20pt;
      }

      button {
          color: navy;
      }

      h1 {
        color: silver;
        font-style: italic;
        font-size: 36pt;
        font-family: Verdana, Arial, Helvetica, Geneva;
        padding-left: 5pt;
        padding-bottom: 1pt;
        padding-top: 1pt;
    }
        </style>
    </head>        
    <body>
        <h1>Hexdecimal to Sexagesimal, and vice-versa</h1>
        <div>
            <table>
                <tr>
                    <td>Decimal degrees</td>
                    <td colspan="3"><input type="number" 
                                           id="decimal" 
                                           title="Degrees to convert"
                                           style="width: 150px; text-align: right;"
                                           min="0"
                                           max="180"
                                           step="0.01"   
                                           pattern="^\d+(?:\.\d{1,6})?$"                                      
                                           placeholder="Dec. Degrees">&deg;</td>
                    <td><button id="decimal" onclick="fromDecimal();">Convert</button></td>
                </tr>
                <tr>
                    <td>Degrees, decimal minutes</td>
                    <td><input type="number" 
                               id="deg-one" 
                               title="Degrees to convert"
                               style="width: 150px; text-align: right;"
                               min="0"
                               max="180"
                               step="1"    
                               pattern="^\d$"                                     
                               placeholder="Degrees">&deg;</td>
                    <td colspan="2"><input type="number" 
                                           id="minutes" 
                                           title="Minutes to convert"
                                           style="width: 150px; text-align: right;"
                                           min="0"
                                           max="60"
                                           step="0.01"                                         
                                           placeholder="Dec. Minutes">'</td>
                    <td><button id="dec-min" onclick="fromDegMin();">Convert</button></td>
                </tr>
                <tr>
                    <td>Degrees, minutes, decimal seconds</td>
                    <td><input type="number" 
                               id="deg-two" 
                               title="Degrees to convert"
                               style="width: 150px; text-align: right;"
                               min="0"
                               max="180"
                               step="1"                                         
                               placeholder="Degrees">&deg;</td>
                    <td><input type="number" 
                               id="min-two" 
                               title="Minutes to convert"
                               style="width: 150px; text-align: right;"
                               min="0"
                               max="59"
                               step="1"                                         
                               placeholder="Minutes">'</td>
                    <td><input type="number" 
                               id="seconds" 
                               title="Seconds to convert"
                               style="width: 150px; text-align: right;"
                               min="0"
                               max="60"
                               step="0.01"                                         
                               placeholder="Dec. Seconds">"</td>
                    <td><button id="dec-min-sec" onclick="fromDegMinSec();">Convert</button></td>
                </tr>
            </table>
        </div>
        <hr/>
        <i>Wow!</i>
    </body>
    <script type="text/javascript">
fromDecimal = () => {
    let original = document.getElementById("decimal");
    let originalValue = parseFloat(original.value);
    console.log(`Converting ${originalValue}`);
    // Int part (degrees)
    let degrees = Math.floor(originalValue);
    let decimalPart = originalValue - degrees;
    let decimalMin = decimalPart * 60;
    // Minutes
    let intMin = Math.floor(decimalMin);
    // Seconds
    let decimalSeconds = (decimalMin - intMin) * 60;
    // Display on other fields.
    document.getElementById("deg-one").value = degrees;
    document.getElementById("minutes").value = decimalMin.toFixed(4);

    document.getElementById("deg-two").value = degrees;
    document.getElementById("min-two").value = intMin;
    document.getElementById("seconds").value = decimalSeconds.toFixed(4);
};

fromDegMin = () => {
    let degOriginal = parseInt(document.getElementById("deg-one").value);
    let minOriginal = parseFloat(document.getElementById("minutes").value);
    console.log(`Converting ${degOriginal}, ${minOriginal}`);
    let decimalDeg = degOriginal + (minOriginal / 60);
    let intMinutes = Math.floor(minOriginal);
    let decimalSec = (minOriginal - intMinutes) * 60;

    document.getElementById("decimal").value = decimalDeg.toFixed(6);
    document.getElementById("deg-two").value = degOriginal;
    document.getElementById("min-two").value = intMinutes;
    document.getElementById("seconds").value = decimalSec.toFixed(4);
};

fromDegMinSec = () => {
    let degOriginal = parseInt(document.getElementById("deg-two").value);
    let minOriginal = parseInt(document.getElementById("min-two").value);
    let secOriginal = parseFloat(document.getElementById("seconds").value);
    console.log(`Converting ${degOriginal}, ${minOriginal}, ${secOriginal}`);
    let decimalDeg = degOriginal + (minOriginal / 60) + (secOriginal / 3600);
    let decimalMin = minOriginal + (secOriginal / 60);

    document.getElementById("decimal").value = decimalDeg.toFixed(6);
    document.getElementById("deg-one").value = degOriginal;
    document.getElementById("minutes").value = decimalMin.toFixed(4);

};
    </script>
</html>